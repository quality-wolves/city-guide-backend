%h3.page-title="New What`s on"
=form_for :whatsOn, :html => { :multipart => true, :role => "form" }, url: whats_ons_path do |f|
  .form-body  
    - @error = @whatsOn.errors.any? && @whatsOn.errors[:image].any? ? @whatsOn.errors[:image] : ''
    %div{:class => sprintf('form-group %s', !@error.empty? ? 'has-error' : '')}
      = f.label :image
      .input-group.input-icon.right
        - if !@error.empty?
          %i.fa.fa-exclamation.tooltips{:data=>{:original=>{:title=>@error.join("\n")},:container=>"body"}}
        =f.file_field :image
    - @error = @whatsOn.errors.any? && @whatsOn.errors[:title].any? ? @whatsOn.errors[:title] : ''
    %div{:class => sprintf('form-group %s', !@error.empty? ? 'has-error' : '')}
      = f.label :title
      .input-group.input-icon.right
        - if !@error.empty?
          %i.fa.fa-exclamation.tooltips{:data=>{:original=>{:title=>@error.join("\n")},:container=>"body"}}
        =f.text_field :title, class: 'form-control input-medium'
    - @error = @whatsOn.errors.any? && @whatsOn.errors[:date].any? ? @whatsOn.errors[:date] : ''
    %div{:class => sprintf('form-group %s', !@error.empty? ? 'has-error' : '')}
      = f.label :date
      .input-group.input-icon.right
        - if !@error.empty?
          %i.fa.fa-exclamation.tooltips{:data=>{:original=>{:title=>@error.join("\n")},:container=>"body"}}
        =f.text_field :date, class: 'form-control input-medium date-picker'
    - @error = @whatsOn.errors.any? && @whatsOn.errors[:description].any? ? @whatsOn.errors[:description] : ''
    %div{:class => sprintf('form-group %s', !@error.empty? ? 'has-error' : '')}
      = f.label :description
      .input-icon.right
        - if !@error.empty?
          %i.fa.fa-exclamation.tooltips{:data=>{:original=>{:title=>@error.join("\n")},:container=>"body"}}
        =f.text_area :description, class: 'form-control col-md-12', style: 'resize: vertical'
  .form-actions
    = f.submit 'Save', :class => 'btn blue'
    = link_to 'Back', whats_ons_path, class: 'btn default'